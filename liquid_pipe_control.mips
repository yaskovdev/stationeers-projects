alias device d0
alias sensor d1

define min_temp 295.15
define max_temp 298.15

main:
yield

l r1 sensor RatioWater # TODO: use those that equalise between tank and pipes
blt r1 0.01 turn_off
blt r1 0.05 main

l r0 sensor Temperature
blt r0 min_temp turn_on
bgt r0 max_temp turn_off

j main

turn_on:
s device On 1
j main

turn_off:
s device On 0
j main
